{% capture sectionCta %}
[
   {% for block in section.blocks %}
        {% if block.type == 'SectionCta' %}
        {
            secCta: `{{ block.settings.secCta }}`,
            secCtaLink: `{{ block.settings.secCtaLink }}`
        }{% unless forloop.last %},{% endunless %}
        {% endif %}
   {% endfor %}
]
{% endcapture %}


<render-cart-main-cart :shopify-data="{
    defaultSecHeading: `{{ section.settings.defaultSecHeading }}` ,
    subtotalHeading: `{{ section.settings.subtotalHeading }}` ,
    defaultSecInfo: `{{ section.settings.defaultSecInfo }}` ,
    checkoutCtaText: `{{ section.settings.checkoutCtaText }}` ,
    continuCtaText: `{{ section.settings.continuCtaText }}` ,
    continuCtaLink: `{{ section.settings.continuCtaLink }}` ,
    thanksSecHeading: `{{ section.settings.thanksSecHeading }}`,
    thanksSecInfo: `{{ section.settings.thanksSecInfo }}`,
    ThanksSecCtaText: `{{ section.settings.ThanksSecCtaText }}`,
    ThanksSecCtaLink: `{{ section.settings.ThanksSecCtaLink }}`,
    taxInfo: `{{ section.settings.taxInfo }}` ,
    sectionCta: {{ sectionCta }}
}">

</render-cart-main-cart>

{% schema %}
{
    "name":"Main Cart",
    "settings":[
        {
            "id":"defaultSecHeading",
            "type":"text",
            "label":"Default Section Heading ",
            "default":"YOUR BAG"
        },
        {
            "id":"defaultSecInfo",
            "type":"text",
            "label":"Default Section Info",
            "default":"Your bag is empty."
        },
        {
            "id":"subtotalHeading",
            "type":"text",
            "label":"Subtotal Heading",
            "default":"SUBTOTAL"
        },
        {
            "id":"taxInfo",
            "type":"text",
            "label":"Tax Section Info",
            "default":"Excluding tax & shipping"
        },
        {
            "id":"checkoutCtaText",
            "type":"text",
            "label":"Checkout Cta Text",
            "default":"CHECKOUT"
        },
        {
            "id":"continuCtaText",
            "type":"text",
            "label":"Continue Cta Text",
            "default":"Continue shopping"
        },
        {
            "id":"continuCtaLink",
            "type":"url",
            "label":"Continue Cta Link"
        },
        {
            "id":"thanksSecHeading",
            "type":"text",
            "label":"Thanks Section Heading",
            "default":"THANK YOU FOR YOUR PURCHASE."
        },
        {
            "id":"thanksSecInfo",
            "type":"text",
            "label":"Thanks Section Info",
            "default":"Check your inbox for order details."
        },
        {
            "id":"ThanksSecCtaText",
            "type":"text",
            "label":"Thanks Sec Cta Text",
            "default":"BACK TO HOMEPAGE"
        },
        {
            "id":"ThanksSecCtaLink",
            "type":"url",
            "label":"Thanks Sec Cta Link",
            "default":"/"
        }


    ],
    "blocks" : [
        {
            "name": "Section Cta",
            "type" : "SectionCta",
            
            "settings" : [
                {
                    "id": "secCta",
                    "type": "text",
                    "label": "Section Cta"
                }, 
                {
                    "id": "secCtaLink",
                    "type": "url",
                    "label": "Section Cta Link"
                } 
            ]
        }
    ]
}
{% endschema %}